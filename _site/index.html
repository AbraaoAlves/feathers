<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/ico/favicon.png">

    <title>Feathers - Guide</title>
    <link href="/css/feathers.min.css" rel="stylesheet">
    <link href="/css/fontello.css" rel="stylesheet">
    <link rel="canonical" href="http://yourdomain.com/">
  </head>
  <body data-spy="scroll" data-offset="100">
    <div class="navbar-wrapper">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-feather"></span>
            </button>
            <a class="navbar-brand" href="#">
              <i class="icon-feather"></i> Feathers
            </a>
          </div>
          <div class="navbar-collapse collapse pull-right">
            <ul class="nav navbar-nav">
              
                
                  
                
                  
                
                  
                    <li>
                      <a class="page-link active" href="/">
                        Guide
                      </a>
                    </li>
                  
                
                  
                
              
                
                  
                    <li>
                      <a class="page-link " href="/api/">
                        API
                      </a>
                    </li>
                  
                
                  
                
                  
                
                  
                    <li>
                      <a class="page-link " href="/plugins/">
                        Plugins
                      </a>
                    </li>
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                    <li>
                      <a class="page-link " href="/faq/">
                        FAQ
                      </a>
                    </li>
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
                
                  
                
                  
                
                  
                
                  
                
              
              <li>
                <a class="page-link" href="https://github.com/feathersjs/feathers">
                  <strong>Github</strong>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="content"><section id="hero" class="hero">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="row text-center">
          <h1 class="tagline">Let your applications fly!</h1>
          <h4>Real-time without magic</h4>
          <div class="col-md-6 col-md-offset-3">
            <p class="inline-code">npm install feathers</p>
          </div>
          <div class="col-md-6 col-md-offset-3">
            <a href="#example" class="btn btn-primary btn-lg btn-block">Take Off</a>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <ul class="list-unstyled">
            <li class="first"><i class="icon-feather"></i> Use the power of <a href="http://expressjs.com">Express</a> plus...</li>
            <li><i class="icon-plus"></i> Data driven <a href="#services">services</a></li>
            <li><i class="icon-plus"></i> Out of the box  <a href="http://todos.feathersjs.com/todos" target="_blank">RESTful APIs</a></li>
            <li><i class="icon-plus"></i> <a href="#example">Real-time</a> events via SocketIO</li>
          </ul>
        </div>
        <div class="row badges text-center">
          <p>
            <a href="https://npmjs.org/package/feathers" title="Package status" target="_blank"><img src="https://badge.fury.io/js/feathers.png"/></a>
            <a href="https://david-dm.org/feathersjs/feathers" target="_blank" title="Dependency status"><img src="https://david-dm.org/feathersjs/feathers.png"/></a>
            <a href="https://travis-ci.org/feathersjs/feathers" target="_blank"><img src="https://travis-ci.org/feathersjs/feathers.png?branch=master" alt="Build status" /></a>
          </p>
        </div>
        <div class="row github-links text-center">
          <p>
            <iframe src="http://ghbtns.com/github-btn.html?user=feathersjs&repo=feathers&type=watch&count=true"
          allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
            <iframe src="http://ghbtns.com/github-btn.html?user=feathersjs&repo=feathers&type=fork&count=true"
          allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="features" class="features">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <i class="icon-cloud"></i>
        <h2>Lightweight</h2>
        <p class="feature description">Feathers is built right on top of <a href="http://expressjs.com" title="Express" target="_blank">Express</a>. No "Framework X" but for Node. Literally replace
        <strong>Express</strong> with <strong>Feathers</strong> and you are good to go. You can even use the same middleware!</p>
      </div>
      <div class="col-md-4">
        <i class="icon-rocket"></i>
        <h2>Realtime</h2>
        <p class="feature description">No real-time abstraction magic. Vanilla SocketIO and namespaced events are all you need to make your web application come to life. And Feathers already provides the ones you need!</p>
      </div>
      <div class="col-md-4">
        <i class="icon-cogs"></i>
        <h2>Flexible</h2>
        <p class="feature description">Feathers isn't in the way. You can always directly fall back to Express and <a href="http://socket.io/" title="Socket.IO" targe="_blank">SocketIO</a>. Use your existing middleware, add new services as you go and migrating will be a snap.</p>
      </div>
    </div>
  </div>
</section>

<section id="example" class="example">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <h1>Real-time Todos</h1>
        <p>We are huge fans of <a href="http://todomvc.com/" title="TODO MVC" target="_blank">TodoMVC</a> so we've created a real-time todo app that you can see right here (and the REST endpoint <a href="http://todos.feathersjs.com/todos" title="Todo REST service" target="_blank">here</a>). It's definitely fairly trivial, but it demonstrates most of the major parts of Feathers.</p>

        <div id="todo-example">
          <ul class="todos list-unstyled"></ul>
          <form role="form" class="create-todo">
            <div class="form-group">
              <input type="text" class="form-control" name="description" placeholder="Add a new Todo">
            </div>
            <button type="submit" class="btn btn-info col-md-12">Add Todo</button>
          </form>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <ul class="nav nav-pills options example" id="realtime-todos">
            <li><a href="#" title="TODO Client">Client</a></li>
            <li><a href="#" title="TODO Feathers Server">Server</a></li>
          </ul>
          <script src="https://gist.github.com/daffl/6665992.js"></script>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="page">
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        <div id="toc"></div>
      </div>
      <div class="col-md-9 page-content">
        <h2 id="things-to-know">Things to know</h2>

<h2 id="your-first-service">Your first service</h2>

<p>The most important concept Feathers adds to Express is that of <strong>services</strong>. Services can be used just like an Express middleware function but instead are JavaScript objects that provide at least one of the following methods:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">var</span> myService = {
  <span style="color:#06B;font-weight:bold">find</span>: <span style="color:#080;font-weight:bold">function</span>(params, callback) {},
  <span style="color:#06B;font-weight:bold">get</span>: <span style="color:#080;font-weight:bold">function</span>(id, params, callback) {},
  <span style="color:#06B;font-weight:bold">create</span>: <span style="color:#080;font-weight:bold">function</span>(data, params, callback) {},
  <span style="color:#06B;font-weight:bold">update</span>: <span style="color:#080;font-weight:bold">function</span>(id, data, params, callback) {},
  <span style="color:#06B;font-weight:bold">patch</span>: <span style="color:#080;font-weight:bold">function</span>(id, data, params, callback) {},
  <span style="color:#06B;font-weight:bold">remove</span>: <span style="color:#080;font-weight:bold">function</span>(id, params, callback) {},
  <span style="color:#06B;font-weight:bold">setup</span>: <span style="color:#080;font-weight:bold">function</span>(app, path) {}
}
</pre></div>
</div>
</div>

<p>This object can be registered like <code>app.use('/my-service', myService)</code> which - if configured - makes it available as a REST endpoint at <code>/my-service</code> and also as a websocket API prefixed with <code>my-service</code>. As usual in NodeJS, <code>callback</code> will be called error first and the data as the second parameter.</p>

<h3 id="simple-todo">Simple Todo</h3>

<p>With those methods available we can implement a very basic Todo service that returns a single Todo using the id passed to the <code>get</code> method:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#777">// app.js</span>
<span style="color:#080;font-weight:bold">var</span> feathers = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">feathers</span><span style="color:#710">'</span></span>);
<span style="color:#080;font-weight:bold">var</span> app = feathers();
<span style="color:#080;font-weight:bold">var</span> todoService = {
  <span style="color:#06B;font-weight:bold">get</span>: <span style="color:#080;font-weight:bold">function</span>(id, params, callback) {
    <span style="color:#777">// Call back with no error and the Todo object</span>
    callback(<span style="color:#069">null</span>, {
      <span style="color:#606">id</span>: id,
      <span style="color:#606">text</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">You have to do </span><span style="color:#710">'</span></span> + id + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">!</span><span style="color:#710">'</span></span>
    });
  }
};

app.configure(feathers.rest())
  .use(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/todos</span><span style="color:#710">'</span></span>, todoService)
  .listen(<span style="color:#00D">3000</span>);
</pre></div>
</div>
</div>

<p>After running</p>

<blockquote>
  <p>node app.js</p>
</blockquote>

<p>You can go to <code>http://localhost:3000/todos/dishes</code> and should see the following JSON response:</p>

<div><div class="CodeRay">
  <div class="code"><pre>{
  <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">dishes</span><span style="color:#710">&quot;</span></span>,
  <span style="color:#606"><span style="color:#404">&quot;</span><span>text</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">You have to do dishes!</span><span style="color:#710">&quot;</span></span>
}
</pre></div>
</div>
</div>

<h3 id="crud-todos">CRUD Todos</h3>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#777">// todos.js</span>
module.exports = {
  <span style="color:#777">// The current id counter</span>
  <span style="color:#606">id</span>: <span style="color:#00D">0</span>,
  <span style="color:#777">// An array with all todos</span>
  <span style="color:#606">todos</span>: [],

  <span style="color:#777">// Tries to get a single Todo by its id.</span>
  <span style="color:#777">// Throws an error if none can be found.</span>
  <span style="color:#06B;font-weight:bold">getTodo</span>: <span style="color:#080;font-weight:bold">function</span>(id) {
    <span style="color:#080;font-weight:bold">var</span> todo = <span style="color:#950">this</span>.todos.find(<span style="color:#080;font-weight:bold">function</span>(todo) {
      <span style="color:#080;font-weight:bold">return</span> todo.id === id;
    });

    <span style="color:#080;font-weight:bold">if</span>(!todo) {
      <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> Error(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Could not find Todo</span><span style="color:#710">'</span></span>);
    }

    <span style="color:#080;font-weight:bold">return</span> todo;
  },

  <span style="color:#777">// Return all Todos</span>
  <span style="color:#06B;font-weight:bold">find</span>: <span style="color:#080;font-weight:bold">function</span>(params, callback) {
    callback(<span style="color:#069">null</span>, <span style="color:#950">this</span>.todos);
  },

  <span style="color:#777">// Returns a single Todo by id</span>
  <span style="color:#06B;font-weight:bold">get</span>: <span style="color:#080;font-weight:bold">function</span>(id, params, callback) {
    <span style="color:#080;font-weight:bold">try</span> {
      callback(<span style="color:#069">null</span>, <span style="color:#950">this</span>.getTodo(id));
    } <span style="color:#080;font-weight:bold">catch</span>(error) {
      callback(error);
    }
  },

  <span style="color:#777">// Create a new Todo</span>
  <span style="color:#06B;font-weight:bold">create</span>: <span style="color:#080;font-weight:bold">function</span>(data, params, callback) {
    <span style="color:#777">// Increment the global ID counter and</span>
    <span style="color:#777">// use it as the Todos id</span>
    data.id = <span style="color:#950">this</span>.id++;
    <span style="color:#950">this</span>.todos.push(data);
    callback(<span style="color:#069">null</span>, data);
  },

  <span style="color:#777">// Update (replace) an existing Todo with new data</span>
  <span style="color:#06B;font-weight:bold">update</span>: <span style="color:#080;font-weight:bold">function</span>(id, data, params, callback) {
    <span style="color:#080;font-weight:bold">try</span> {
      <span style="color:#080;font-weight:bold">var</span> todo = <span style="color:#950">this</span>.getTodo(id);
      <span style="color:#080;font-weight:bold">var</span> index = <span style="color:#950">this</span>.todos.indexOf(todo);

      data.id = id;
      <span style="color:#777">// Replace all the data</span>
      <span style="color:#950">this</span>.todos[index] = data;
    } <span style="color:#080;font-weight:bold">catch</span>(error) {
      callback(error);
    }
  },

  <span style="color:#777">// Extend the data of an existing Todo</span>
  <span style="color:#06B;font-weight:bold">patch</span>: <span style="color:#080;font-weight:bold">function</span>(id, data, params, callback) {
    <span style="color:#080;font-weight:bold">try</span> {
      <span style="color:#080;font-weight:bold">var</span> todo = <span style="color:#950">this</span>.getTodo(id);

      <span style="color:#777">// Extend the existing Todo with the new data</span>
      Object.keys(data).forEach(<span style="color:#080;font-weight:bold">function</span>(key) {
        <span style="color:#080;font-weight:bold">if</span>(key !== <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>) {
          todo[key] = data[key];
        }
      });

      callback(<span style="color:#069">null</span>, todo);
    } <span style="color:#080;font-weight:bold">catch</span>(error) {
      callback(error);
    }
  },

  <span style="color:#777">// Remove an existing Todo by id</span>
  <span style="color:#06B;font-weight:bold">remove</span>: <span style="color:#080;font-weight:bold">function</span>(id, params, callback) {
    <span style="color:#080;font-weight:bold">try</span> {
      <span style="color:#080;font-weight:bold">var</span> todo = <span style="color:#950">this</span>.getTodo(id);
      <span style="color:#080;font-weight:bold">var</span> index = <span style="color:#950">this</span>.todos.indexOf(todo);

      <span style="color:#777">// Splice it out of our Todo list</span>
      <span style="color:#950">this</span>.todos.splice(index, <span style="color:#00D">1</span>);
      callback(<span style="color:#069">null</span>, todo);
    } <span style="color:#080;font-weight:bold">catch</span>(error) {
      callback(error);
    }
  }
}
</pre></div>
</div>
</div>

<p>Then</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#777">// app.js</span>
<span style="color:#080;font-weight:bold">var</span> feathers = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">feathers</span><span style="color:#710">'</span></span>);
<span style="color:#080;font-weight:bold">var</span> bodyParser = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">body-parser</span><span style="color:#710">'</span></span>);

<span style="color:#080;font-weight:bold">var</span> app = feathers();
<span style="color:#080;font-weight:bold">var</span> todoService = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">./todos</span><span style="color:#710">'</span></span>);

app.configure(feathers.rest())
  .use(bodyParser.json())
  .use(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/todos</span><span style="color:#710">'</span></span>, todoService)
  .listen(<span style="color:#00D">3000</span>);
</pre></div>
</div>
</div>

<h2 id="getting-real-time">Getting real-time</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#777">// app.js</span>
<span style="color:#080;font-weight:bold">var</span> feathers = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">feathers</span><span style="color:#710">'</span></span>);
<span style="color:#080;font-weight:bold">var</span> bodyParser = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">body-parser</span><span style="color:#710">'</span></span>);

<span style="color:#080;font-weight:bold">var</span> app = feathers();
<span style="color:#080;font-weight:bold">var</span> todoService = require(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">./todos</span><span style="color:#710">'</span></span>);

app.configure(feathers.rest())
  .configure(feathers.socketio())
  .use(bodyParser.json())
  .use(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/todos</span><span style="color:#710">'</span></span>, todoService)
  .use(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/</span><span style="color:#710">'</span></span>, feathers.<span style="color:#080;font-weight:bold">static</span>(__dirname + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/public</span><span style="color:#710">'</span></span>))
  .listen(<span style="color:#00D">3000</span>);
</pre></div>
</div>
</div>

<h2 id="persistent-storage">Persistent storage</h2>

<h2 id="authorization">Authorization</h2>

<h2 id="data-processing">Data processing</h2>

<h2 id="adding-a-frontend">Adding a frontend</h2>

<h2 id="changelog">Changelog</h2>

<p><strong>0.4.0</strong></p>

<ul>
  <li>Allow socket provider event filtering and params passthrough (<a href="https://github.com/feathersjs/feathers/pull/49">#49</a>, <a href="https://github.com/feathersjs/feathers/pull/50">#50</a>, <a href="https://github.com/feathersjs/feathers/pull/51">#51</a>)</li>
  <li>Added <code>patch</code> support (<a href="https://github.com/feathersjs/feathers/pull/47">#47</a>)</li>
  <li>Allow to configure REST handler manually (<a href="https://github.com/feathersjs/feathers/issues/40">#40</a>, <a href="https://github.com/feathersjs/feathers/pull/52">#52</a>)</li>
</ul>

<p><strong>0.3.2</strong></p>

<ul>
  <li>Allows Feathers to use other Express apps (<a href="https://github.com/feathersjs/feathers/pull/46">#46</a>)</li>
  <li>Updated dependencies and switched to Lodash (<a href="https://github.com/feathersjs/feathers/pull/42">#42</a>)</li>
</ul>

<p><strong>0.3.1</strong></p>

<ul>
  <li>REST provider refactoring (<a href="https://github.com/feathersjs/feathers/pull/35">#35</a>) to make it easier to develop plugins</li>
  <li>HTTP requests now return 405 (Method not allowed) when trying to access unavailable service methods (<a href="https://github.com/feathersjs/feathers/pull/35">#35</a>)</li>
</ul>

<p><strong>0.3.0</strong></p>

<ul>
  <li>Added <a href="https://github.com/primus/primus">Primus</a> provider (<a href="https://github.com/feathersjs/feathers/pull/34">#34</a>)</li>
  <li><code>app.setup(server)</code> to support HTTPS (and other functionality that requires a custom server) (<a href="https://github.com/feathersjs/feathers/pull/33">#33</a>)</li>
  <li>Removed bad SocketIO configuration (<a href="https://github.com/feathersjs/feathers/issues/19">#19</a>)</li>
  <li>Add .npmignore to not publish .idea folder (<a href="https://github.com/feathersjs/feathers/issues/30">#30</a>)</li>
  <li>Remove middleware: connect.bodyParser() (<a href="https://github.com/feathersjs/feathers/pull/27">#27</a>)</li>
</ul>

<p><strong>0.2.0</strong></p>

<ul>
  <li>Pre-initialize <code>req.feathers</code> in REST provider to set service parameters</li>
  <li>Allowing to initialize services with or without slashes to be more express-compatible</li>
</ul>

<p><strong>0.1.0</strong></p>

<ul>
  <li>First beta release</li>
  <li>Directly extends Express</li>
  <li>Removed built in services and moved to <a href="https://github.com/feathersjs/legs">Legs</a></li>
  <li>Created <a href="https://github.com/feathersjs/examples">example repository</a></li>
</ul>

<p><strong>0.0.x</strong></p>

<ul>
  <li>Initial test alpha releases</li>
</ul>

<h2 id="license">License</h2>

<p>Copyright (C) 2013 David Luecke daff@neyeon.com<br />
Copyright (C) 2013 Eric Kryski e.kryski@gmail.com</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

      </div>
    </div>
  </div>
</section>
</div>

    <footer>
      <div class="row">
        <div class="col-md-4">
          <p>© 2013 Feathers.</p>
        </div>
        <div class="col-md-4">
          <p> Another project made with <i class="icon-heart"></i> by <a href="http://twitter.com/daffl" title="David Luecke" target="_blank">@daffl</a> and <a href="http://twitter.com/ekryski" title="Eric Kryski" target="_blank">@ekryski</a>.</p>
        </div>
        <div class="col-md-4">
          <p class="back pull-right"><a href="#hero">Back to top</a></p>
        </div>
      </div>
    </footer>

    <script src="http://todos.feathersjs.com/socket.io/socket.io.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="/js/todos.js"></script>
    <script src="/js/feathers.js"></script>
  </body>
</html>
